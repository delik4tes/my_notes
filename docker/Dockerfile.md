| Инструкция  | Описание                                                                                                                                                                                                                                     | Пример                                                                      |
| ----------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------- |
| FROM        | Указывает, какой базовый образ нужно использовать. Обязательная инструкция для Dockerfile                                                                                                                                                    | FROM ubuntu:16.04                                                           |
| MAINTAINER  | Автор образа.                                                                                                                                                                                                                                | MAINTAINER DMosk <master@dmosk.ru>                                          |
| RUN         | Выполняет команду в новом слое при построении образа.                                                                                                                                                                                        | RUN apt-get install python                                                  |
| CMD         | Запускает команду каждый раз при запуске контейнера. Может быть вызвана только один раз. Если в Dockerfile указать несколько таких инструкций, то выполнена будет последняя                                                                  | CMD ["openvpn"]                                                             |
| LABEL       | Добавляет метаданные.                                                                                                                                                                                                                        | LABEL version="2"                                                           |
| EXPOSE      | Указывает, какой порт должно использовать приложение внутри контейнера.                                                                                                                                                                      | EXPOSE 8080                                                                 |
| ENV         | Задает переменные окружения в образе.                                                                                                                                                                                                        | ENV PGPASSWORD pass                                                         |
| ADD         | Добавляет файлы/папки из текущего окружения в образ. Если в качестве копируемого файла указать архив, то он будет добавлен в образ в распакованном виде. Также в качестве источника принимает URL.                                           | ADD /root/.ssh/{id_rsa,id_rsa.pub} /root/.ssh/                              |
| COPY        | Также как и ADD добавляет файлы в образ, но обладает меньшими функциями — не принимает URL и не распаковывает архивы. Рекомендован для использования в случаях, где не требуются возможности ADD или когда нужно перенести архив, как архив. | COPY ./mypasswd /root/                                                      |
| ENTRYPOINT  | Указывает команду, которой будет передаваться параметр при запуске контейнера.                                                                                                                                                               | ENTRYPOINT ["/sbin/apache2"]                                                |
| VOLUME      | Добавляет том в контейнер.                                                                                                                                                                                                                   | VOLUME ["/opt/myapp"]                                                       |
| USER        | Задает пользователя, от которого будет запущен образ.                                                                                                                                                                                        | USER user:group                                                             |
| WORKDIR     | Можно задать каталог, откуда будут запускаться команды ENTRYPOINT и CMD                                                                                                                                                                      | WORKDIR /opt/apps                                                           |
| ARG         | Создает переменную, которую может использовать сборщик.                                                                                                                                                                                      | ARG folder=/opt/apps WORKDIR $folder                                        |
| ONBUILD     | Действия, которые выполняются, если наш образ используется как базовый для другой сборки.                                                                                                                                                    | ONBUILD ADD . /app/src                                                      |
| STOPSIGNAL  | Переопределяет сигнал SIGTERM для завершения контейнера.                                                                                                                                                                                     | STOPSIGNAL SIGINT                                                           |
| HEALTHCHECK | Команда, которая будет проверять работоспособность контейнера.                                                                                                                                                                               | HEALTHCHECK --interval=5m --timeout=3s CMD curl -f http://localhost/ exit 1 |
| SHELL       | Позволяет заменить стандартную оболочку для выполнения команд на пользовательскую                                                                                                                                                            | SHELL ["/bin/sh", "-c"]                                                     | 

> Каждая команда в докер файле - это отдельный уровень