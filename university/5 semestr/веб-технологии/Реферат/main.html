<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8"> 
        <title>Реферат</title>
        <link href="style.css" rel="stylesheet" type="text/css">
        <link href="materials/icon.png" rel="icon" type="image/png">
    </head>
    <body>
        <div class="title">
            <div>
                МИНИСТЕРСТВО ОБРАЗОВАНИЯ И НАУКИ РФ<br>
                Федеральное государственное бюджетное образовательное учреждение высшего профессионального образования<br>
                «Национально исследовательский университет «Московский энергетический институт»<br>
                Кафедра «Вычислительные машины, системы и сети»<br>
            </div>
            <div id="topic">
                РЕФЕРАТ<br>
                по дисциплинне: Web-технологии<br>
                на тему: Веб-сервер Nginx<br>
            </div>
            <div id="student">
                Выполнение студент группы:<br>
                Желагин Егор Сергеевич<br>
                Проверил преподаватель:<br>
                Мишин Алексей Алексеевич<br>
            </div>
            <div id="city">
                Москва<br>
                2022<br>
            </div>
        </div>
        <hr>
        <h1>Содержание</h1>
        <div id="content">
            <ol>
                <li><a href="#introduction">Введение</a>
                    <ol>

                        <li><a>Основные функции</a>
                            <ol>
                                <li><a href="#http">HTTP-сервер</a></li>
                                <li><a href="#proxy">Прокси сервер</a></li>
                            </ol>
                        </li>
                        <li><a href="#architecture">Архитектура</a></li>
                        <li><a href="#company">Компания Nginx</a></li>
                    </ol>
                </li>
                <li><a href="#install">Установка Nginx</a>
                    <ol>
                        <li><a href="#linux">Установка на Linux</a></li>
                        <li><a href="#windows">Установка на Windows</a></li>
                        <li><a href="#config">Конфигурация</a></li>
                    </ol>
                </li>
                <li><a href="#compare">Сравнение с Apache</a>
                    <ol>
                        <li><a href="#apache">Краткий обзор Apache</a></li>
                        <li><a href="#advantages">Критерии сравнения</a>
                            <ol>
                                <li><a href="#connection">Архитектура обработки соединений</a></li>
                                <li><a href="#uri">Интерпретация базирующаяся на файлах и URI</a></li>
                                <li><a href="#module">Модули</a></li>
                                <li><a href="#support">Поддержка, совместимость, экосистема и документация</a></li>
                                <li><a href="#static">Статический и динамический контент</a></li>
                                <li><a href="#center">Распределенная конфигурация против централизованной</a></li>
                            </ol>
                        </li>
                        <li><a href="#resume">Резюме</a></li>
                    </ol>
                </li>
                <li><a href="#php">Взаимодействие с PHP,MySQL</a>
                    <ol>
                        <li><a href="#installPHP">Установка PHP</a></li>
                        <li><a href="#nginxAndPHP">Налаживание взаимодействия nginx и PHP</a></li>
                        <li><a href="#insallMySQL">Установка MySQL</a></li>
                        <li><a href="#phpAndMysql">PHP и MySQL</a></li>
                    </ol>
                </li>
                <li><a href="#conclusion">Заключение</a></li>
                <li><a href="#literature">Список использованной литературы</a></li>
                <li><a href="#applications">Приложения</a></li>
            </ol>
        </div>
        <div class="page">2</div>
        <hr>
        <h1 id="introduction">Введение</h1>
        <div>
            <p>
                Nginx [engine x] — это HTTP-сервер и обратный прокси-сервер, почтовый прокси-сервер, а также TCP/UDP прокси-сервер общего назначения, изначально написанный Игорем Сысоевым. Уже длительное время он обслуживает серверы многих высоконагруженных 
                российских сайтов, таких как Яндекс, Mail.Ru, ВКонтакте и Рамблер. Согласно статистике Netcraft nginx обслуживал или проксировал 21.21% самых нагруженных сайтов в ноябре 2022 года.
                Nginx позиционируется производителем как простой, быстрый и надёжный сервер, не перегруженный функциями.
                Применение nginx целесообразно прежде всего для статических веб-сайтов и как обратного прокси-сервера перед динамическими сайтами.
                Nginx начал набирать популярность с момента релиза благодаря своей легковесности (light-weight resource utilization) и возможности легко 
                масштабироваться на минимальном железе. Nginx превосходен при отдаче статического контента и спроектирован так, чтобы передавать динамические 
                запросы другому ПО предназначенному для их обработки. Администраторы часто выбирают Nginx из-за его эффективного 
                потребления ресурсов и отзывчивости под нагрузкой, а также из-за возможности использовать его и как веб-сервер, и как прокси.

            </p>
            <h2 id="distro">Основые функции</h2>
            <div>
                <h3 id="http">HTTP-сервер</h3>
                <div>
                    <p>
                        <ol>
                            <li>Обслуживание неизменяемых запросов, индексных файлов, автоматическое создание списка файлов, кэш дескрипторов открытых файлов</li>
                            <li>Акселерированное проксирование без кэширования, простое распределение нагрузки и отказоустойчивость</li>
                            <li>Поддержка кеширования при акселерированном проксировании и FastCGI</li>
                            <li>Акселерированная поддержка FastCGI и memcached-серверов, простое распределение нагрузки и отказоустойчивость</li>
                            <li>Модульность, фильтры, в том числе сжатие (gzip), byte-ranges (докачка), chunked-ответы, HTTP-аутентификация, SSI-фильтр</li>
                            <li>Несколько подзапросов на одной странице, обрабатываемых в SSI-фильтре через прокси или FastCGI, выполняются параллельно</li>
                            <li>Поддержка SSL</li>
                            <li>Поддержка PSGI, WSGI</li>
                            <li>Экспериментальная поддержка встроенного Perl</li>
                        </ol>
                    </p>
                </div>
                <h3 id="proxy">Прокси сервер</h3>
                <div>
                    <p>
                        <ol>
                            <li>Перенаправление пользователя на SMTP/IMAP/POP3-бэкенд с использованием внешнего HTTP-сервера аутентификации</li>
                            <li>Простая аутентификация (LOGIN, USER/PASS)</li>
                            <li>Поддержка SSL и STARTTLS</li>
                        </ol>
                    </p>
                </div>
            </div>
            <h2 id="architecture">Архитектура</h2>
            <div>
                <p>
                    В nginx рабочие процессы обслуживают одновременно множество соединений, мультиплексируя их вызовами операционной системы select, 
                    epoll (Linux) и kqueue (FreeBSD). Рабочие процессы выполняют цикл обработки событий от дескрипторов (см. Событийно-ориентированное 
                    программирование). Полученные от клиента данные разбираются с помощью конечного автомата. Разобранный запрос 
                    последовательно обрабатывается цепочкой модулей, задаваемой конфигурацией. Ответ клиенту формируется в буферах, 
                    которые хранят данные либо в памяти, либо указывают на отрезок файла. Буфера объединяются в цепочки, определяющие 
                    последовательность, в которой данные будут переданы клиенту. Если операционная система поддерживает эффективные 
                    операции ввода-вывода, такие, как writev и sendfile, то nginx применяет их по возможности. Наглядно архитектуру можно будет посмотреть 
                    в приложении №3.
                </p>
            </div>
            <h2 id="company">Компания Ngnix</h2>
            <div>
                Для разработки коммерческих продуктов Игорь Сысоев создал в июле 2011 года компанию Nginx. 
                Разработка ведётся в офисе, находящемся в Москве, для продаж создана американская «дочка» — Nginx Inc. 
                В феврале 2012 компания начала предоставлять платные услуги, были введены три пакета технической поддержки — Premium, Advanced 
                и Essential, в рамках которых подписчики получали услуги по установке, настройке производительности, конфигурации, сопровождению, 
                содействию в проектировании, окончательной оптимизации. 
            </div>
        </div>
        <h1 id="install">Установка Nginx</h1>
        <div>
            <h2 id="linux">Установка на Linux</h2>
            <div>
                <p>
                    Так как существует огромное множество версий дистрибутивов Linux, я выбрал дистрибутив Ubuntu 22.0 по нескольким причинам
                    Во-первых он установлени у меня на компьютере. Во-вторых это один из самых поплуярных дистрибутивов на данный момент. В-третьих его легко использовать 
                    в личных целях обыденному пользователю, то есть у Ubuntu очень большой репозиторий программ, которые можно установить себе на компьютер и ни о чём не переживать.    
                </p>
                <p>
                    Для установки требуется ввести команду в консоль: 
                    <code>> sudo apt isntall nginx</code>
                    По выпонении данной команды будет скачена последняя стабильная версия с официальных репозитрий. Дальше только остаётся заняться конфигурацией скаченного nginx.
                </p>
                <p>
                    В главной директории находится нескольоко файлов с конифгурациями, каждый из которых ответчает за определенные функции сервера.
                    <dl>
                        <dt><b>/etc/nginx/nginx.conf</b> - главный файл конифгурации</dt>
                        <dt><b>/etc/nginx/sites-available/*</b> - файлы конфигурации для каждого сайта</dt>
                        <dt><b>/etc/nginx/sites-enabled/*</b> - файлы конфигурации активиронных сайтов</dt>
                    </dl>
                    Такая система была придумана, чтобы дать возможность отключать на время те или иные сайты, не стирая их конфигурацию.
                </p>
            </div>
            <div class="page">3</div>
            <hr>
            <h2 id="windows">Установка на Windows</h2>
            <div>
                <p>
                    Скачиваем файл с сайта nginx.org<a href="#1">[1].</a> 
                </p>
                <p>
                    Команду, написанную ниже необходимо запустить в командной строке wibdows прямо из католого, в котором лежит <b>nginx.exe</b><br>
                    <code>> start nginx</code> <br>
                    В противном случае при дальнейшей работе будут ошибки (все пути в конфигурации прописаны как относительные, 
                    только поменяв их все, можно запускать откуда угодно). Вообще рекомендуется держать консоль открытой в этом каталоге 
                    до самого конца выполнения инструкций, однако для работы nginx это необязательно - если её закрыть, он продолжит 
                    работать.
                </p>
                <p>
                    По указанному ниже пути можно будет найти файл nginx.conf, который требуется для дальнейшей конфигурации сервера.<br>
                    <b>/usr/local/nginx/conf/nginx.conf</b>
                </p>
            </div>
            <h2 id="config">Конфигурация</h2>
            <div>
                <p>
                    Рассмотрим главный файл конфигурации <b>nginx.conf</b>. Cтруктура файла изображена в приложении №1.<br>
                    Файл разделен на секции. Общая структура файла:<br>
                    <b>глобальные опции</b> - отвечают за работу всей программы.<br>
                    <b>events</b> - содержит настройки для работы с сетью.<br>
                    <b>http</b> - содержит настройки веб-сервера.<br>
                    <b>server</b> - в этой секции содержится настройка каждого размещенного на веб-сервере сайта.<br>
                    <b>location</b> - может находиться только внутри секции server и соержит настройки только для определённого запроса.<br>
                    <b>mail</b> - содержит настройки почтового прокси.<br>
                </p>
                <p>
                    Синтаксис строки в конфигурационным файле:
                    <code>параметр значение дополнительное значение ... ;</code>
                </p>
                <p>
                    Расммотрим конкретные параметрые каждой секции:<br>
                    <ol>
                        <li><b>Глобальные параметры:</b>
                            <ol>
                                <li><b>user</b> - пользователь от имени которого будет работать программа.</li>
                                <li><b>worker_processes</b> - устаналивает сколько процессов нужно запускать для параллелизации работы программы. Можно установить параметр <b>auto</b> и тогда программа определит это число сама.</li>
                                <li><b>pid</b> - файл pid программы.</li>
                                <li><b>worker_rlimit_nofile</b> - указывает максимальное количество файлов, которые может открыть программа.</li>
                            </ol>
                        </li>
                        <li><b>events:</b>
                            <ol>
                                <li><b>worker_connections</b> - количество соединений, которые программа может обрабатывать одновременно на одном процессе.</li>
                                <li><b>multi_accept</b> - разрешить принимать много подключений одновременно. Принимает значение либо <b>on</b> либо <b>off</b>.</li>
                                <li><b>use</b> - способ работы с сетевым стеком. По умолчанию используется <b>poll</b>, но для Linux эффективнее использовать <b>epoll</b>.</li>
                            </ol>
                        </li>
                        <li><b>http:</b>
                            <ol>
                                <li><b>sendfile</b> - использовать метод отправки данных sendfile. Значение <b>on</b>.</li>
                                <li><b>tcp_nodelay,tcp_nopush</b> - отпарвлять заголовки и начало файла одним пакетом.</li>
                                <li><b>keepalive_timeout</b> - таймаут ожидания.</li>
                                <li><b>keeoalive_requests</b> - максимальное количество keepalive соединений.</li>
                                <li><b>reset_timedout_connection</b> - разрывать соединения после таймаута.</li>
                                <li><b>open_file_cahe</b> - кэшировать информацию об открытых файлах.</li>
                            </ol>
                        </li>
                        <li><b>server:</b>
                            <ol>
                                <li><b>listen</b> - указывает, что нужно ожидать подключения на порту 80.</li>
                                <li><b>root</b> - директория, в котором находятся файлы сайта.</li>
                                <li><b>index</b> - страница, которая будет открываться по умолчанию.</li>
                                <li><b>server_name</b> - доменной имя сайта.</li>
                                <li><b>access_log</b> - файл длязаписи лога запросов к сервеу.</li>
                                <li><b>error_log</b> - лог ошибок веб-сервера</li>
                            </ol>
                        </li>
                        <li><b>location</b>
                            <ol>
                                <li><b>allow</b> - разрешить доступ к метосположению для пользователей</li>
                                <li><b>deny</b> - запретить доступ к местоположению</li>
                                <li><b>try-files</b> - пытаться открыть файлы на определённом порядке</li>
                                <li><b>expires</b> - задаёт время кэширования браузером отданного элемента</li>
                            </ol>
                        </li>
                    </ol>
                    Основные параметры рассмотрели. Эти настройки помогут вам получить большую производительность от nginx. Пример настройки 
                    параметров конфигурации сервера nginx представлены в Приложении №2.
                </p>
            </div>
        </div>
        <div class="page">4</div>
        <hr>
        <h1 id="compare">Сравнение с Apache</h1>
        <div>
            <h2 id="apache">Краткий обзор Apache</h2>
            <div>
                <p>
                    Apache был разработан для доставки веб-контента, доступ к которому осуществляется через Интернет. 
                    Он известен тем, что играл ключевую роль в начальном росте интернета. Apache - это программное обеспечение с открытым 
                    исходным кодом, разработанное и поддерживаемое открытым сообществом разработчиков и работающее в самых разных операционных 
                    системах. Архитектура включает в себя ядро Apache и модули. Основной компонент предоставляет базовую серверную функцию, 
                    поэтому он принимает соединения и управляет параллелизмом. Различные модули соответствуют различным функциям, которые 
                    выполняются по каждому запросу. Конкретное развертывание Apache может быть сконфигурировано для включения различных модулей, 
                    таких как функции безопасности, управление динамическим контентом или для базовой обработки HTTP-запросов. 
                </p>
                <p>
                    Модель «один сервер делает все» стала ключом к раннему успеху Apache. Однако по мере увеличения уровня трафика и 
                    увеличения количества веб-страниц и ограничения производительности настройка Apache на работу с реальным трафиком усложнялась. 
                </p>
            </div>
            <h2 id="advantages">Критерии сравнения</h2>
            <div>
                <h3 id="connection">Архитектура обработки соединений</h3>
                <div>
                    <p>
                        Одно из самых существенных отличий между Apache и Nginx состоит в том как они обрабатывают 
                        соединения и отвечают на различные виды трафика. 
                        Apache предоставляет несколько модулей мультипроцессинга (multi-processing modules, MPM), которые отвечают за то как запрос 
                        клиента будет обработан. Это позволет администраторам определять политику обработки соединений. Apache предлагает гибкие возможности 
                        для выбора различных алгоритмов обработки соединений и запросов.
                    </p>
                    <p>
                        Nginx создает процессы-воркеры каждый из которых может обслуживать тысячи соединений. Воркеры 
                        достигают такого результата благодаря механизму основанному на быстром цикле, в котором 
                        проверяются и обрабатываются события. Отделение основной работы от обработки соединений 
                        позволяет каждому воркеру заниматься своей работой и отвлекаться на обработку соединений 
                        только тогда когда произошло новое событие.
                        Каждое соединение, обрабатываемое воркером, помещается в event loop вместе с другими 
                        соединениями. В этом цикле события обрабатываются асинхронно, позволяя обрабатывать задачи в 
                        неблокирующей манере. Когда соединение закрывается оно удаляется из цикла.
                        Этот подход к обработке соединений позволяет Nginx'у невероятно масштабироваться при 
                        ограниченных ресурсах. Поскольку сервер однопоточный и он не создает процессы под каждое 
                        соединение, использование памяти и CPU относительно равномерно, даже при высоких нагрузках.  
                    </p>
                </div>
                <h3 id="uri">Интерпретация базирующаяся на файлах и URI</h3>
                <div>
                    <p>
                        То как веб-сервер интерпретирует запрос и сопоставляет его с ресурсом в системе это еще 
                        одна отличительная особенность в этих двух серверах.  
                    </p>
                    <p>
                        Так как Apache изначально был спроектирован как веб-сервер, он по умолчанию 
                        интерпретирует запросы как ресурсы в файловой системе. Он берет document root 
                        веб-сервера и дополняет его частью запроса, которая следует за именем хоста и 
                        номером порта, чтобы найти запрашиваемый файл. В общем случае, иерархия файловой 
                        системы представленная в вебе доступна как дерево документов.  
                    </p>
                    <p>
                        Nginx создан, чтобы работать и в качестве веб-сервера, и в качестве прокси-сервера. 
                        По этой причине он работает в первую очередь с URI, транслируя их при необходимости в 
                        запросы к файловой системе.
                        Эта особенность прослеживается в том как для Nginx конструируются и интерпретируются конфигурационные файлы. 
                        В Nginx нет способа создать конфигурацию для заданной директории, вместо этого он парсит URI.
                        Например, основными конфигурационными блоками в Nginx являются <server> и <location>. В блоке <server> 
                        определяется хост, который будет обслуживаться, блок <location> отвечает за обработку части URI, 
                        которая идет после имени хоста и номера порта. Таким образом, запрос интерпретируется как URI, 
                        а не как путь в файловой системе.
                    </p>
                </div>
                <h3 id="module">Модули</h3>
                <div>
                    <p>
                        И Apache, и Nginx могут быть расширены при помощи системы модулей, 
                        но способы реализации модульной системы принципиально отличаются.
                    </p>
                    <p>
                        Модули Nginx реализуют те же возможности, что и модули Apache: проксирование, сжатие данных, 
                        ограничение частоты запросов, логгирование, модификация URL'ов, гео-локация, аутентификация,
                        шифрование, потоковое вещание, почтовые функции.
                    </p>
                </div>
                <h3 id="support">Поддержка, совместимость, экосистема и документация</h3>
                <div>
                    <p>В процессе использования приложения важными являются экосистема созданная вокруг него и возможность 
                        получения поддержки.
                    </p>
                    <p>
                        Так как Apache пользуется популярностью такое длительное время с поддержкой у него нет проблем. 
                        Легко можно найти большое количество документации как от разработчиков Apache, так и от сторонних авторов. 
                        Эта документация покрывает все возможные сценарии использования Apache, включая взаимодействие с другими 
                        приложениями.
                    </p>
                    <p>
                        Nginx обычно используется там, где предъявляются повышенные требования к производительности и в 
                        некоторых областях он все еще является догоняющим.В прошлом было сложно найти вменяемую поддержку 
                        по этому веб-серверу на английском языке, так как на ранних этапах разработка и документация велись 
                        на русском языке. Вместе с ростом интереса к проекту документация была переведена на английский и 
                        теперь можно найти достаточное количество документации и от разработчиков веб-сервера, 
                        и от сторонних авторов.
                    </p>
                </div>
                <div class="page">5</div>
                <hr>
                <h3 id="static">Статический и динамический контент</h3>
                <div>
                    <p>
                        Основные различия между Apache и Nginx в том как они обрабатывают запросы к статическому и 
                        динамическому контенту.
                    </p>
                    <p>
                        Apache также может раздавать динамический контент встраивая интерпретатор нужного языка в 
                        каждого воркера. Это позволяет обрабатывать запросы к динамическому содержимому средствами 
                        самого веб-сервера и не полагаться на внешние компоненты. Интерпретаторы языков могут быть 
                        подключены к Apache с помощью динамически загружаемых модулей.
                        Возможность обрабатывать динамический контент средствами самого Apache упрощает 
                        конфигурирование. Нет необходимости настраивать взаимодействие с дополнительным софтом, 
                        динамический модуль может быть легко отключен в случае изменившихся требований.
                    </p>
                    <p>
                        Nginx не имеет возможности самостоятельно обрабатывать запросы к динамическому контенту. 
                        Для обработки запросов к PHP или другому динамическому контенту Nginx должен передать запрос 
                        внешнему процессору для исполнения, подождать пока ответ будет сгенерирован и получить его. 
                        Затем результат может быть отправлен клиенту.  Это может немного усложнить процесс настройки, 
                        в особенности когда вы будете пытаться предугадать какое число соединений разрешить, так как 
                        будет использоваться дополнительное соединение с процессором на каждый пользовательский запрос.
                        Однако, этот метод имеет и свои преимущества. Так как интерпретатор не встроен в каждого воркера, то оверхед, связанный 
                        с этим, будет иметь место только при запросах к динамическому контенту. Статический контент будет возвращен клиенту простым 
                        способом и запросы к интерпретатору будут выполняться только тогда когда они нужны. Apache тоже может работать в такой манере, 
                        но тогда это лишит его всех преимуществ описанных в предыдущем разделе.
                    </p>
                </div>
                <h3 id="center">Распределенная конфигурация против централизованной</h3>
                <div>
                    <p>
                        Для администраторов одним из очевидных отличий этих двух веб-серверов является наличие у 
                        Apache возможности задавать конфигурацию на уровне директории.
                    </p>
                    <p>
                        Apache имеет опцию, которая позволяет включить конфигурирование на уровне директорий. Если эта опция включена, 
                        то Apache будет искать конфигурационные директивы в директориях с контентом в специальных скрытых файлах, 
                        которые называются .htaccess. Так как такие конфигурационные файлы находятся в директриях с контентом, Apache вынужден 
                        при обработке каждого запроса проверять не содержит ли каждый компонент запрашиваемого пути файл .htaccess и исполнять 
                        директивы в найденных файлах. Это позволяет децентрализовать конфигурирование веб-сервера, что позволяет реализовать на 
                        уровне директорий модификацию URL'ов (URL rewrite), ограничения доступа, авторизацию и аутентификацию и даже политики 
                        кеширования. Несмотря на то, что все описанное выше может быть настроено и в основном конфигурационном файле Apache, 
                        файлы .htaccess имеют ряд преимуществ. Во-первых, эти файлы интерпретируются как только они найдены по запрашиваемому пути,
                        что позволяет менять конфигурацию на лету не перезагружая веб-сервер. Во вторых, это позволяет дать возможность 
                        непривилегированным пользователям контролировать определынные аспекты собственных веб-приложений с помощью .htaccess.
                        Это дает простой способ таким приложениям как системы управления контентом (CMS) конфигурировать собственное окружение 
                        не имея доступа к конфигурационному файлу веб-сервера. Это также может быть использовано шаред хостингами, чтобы
                        сохранить контроль над основным конфигурационным файлом и дать клиентам контроль над конфигурацией определенных 
                        директорий.
                    </p>
                    <p>
                        Nginx не интерпретирует файлы .htaccess и не предоставляет механизм конфигурирования 
                        на уровне директорий за пределами основного конфигурационного файла. Этот подход может 
                        показаться менее гибким чем в случае с Apache.
                    </p>
                </div>
            </div>
            <h2 id="resume">Резюме</h2>
            <div>
                <p>
                    В таблице №1 приведено наглядное сравнение особенностей двух сравниваемых серверов: Apache и Nginx
                </p>
                <p>
                    <div class="caption_table">Таблица №1</div>
                    <table>
                        <tr>
                            <th>Особенность</th>
                            <th>Nginx</th>
                            <th>Apache</th>
                        </tr>
                        <tr>
                            <td>Простота</td>
                            <td>Сложный в разработке, поскольку он имеет сложную архитектуру для одновременной обработки нескольких соединений.</td>
                            <td>Легко разрабатывать и внедрять инновации благодаря своей модели «одно соединение на процесс»</td>
                        </tr>
                        <tr>
                            <td>Производительность - Статический контент</td>
                            <td>В 2,5 раза быстрее чем Apache и потребляет меньше памяти</td>
                            <td>Медленно в отображении статического контента</td>
                        </tr>
                        <tr>
                            <td>Производительность - Динамический контент</td>
                            <td>Отличная производительность для динамического контента</td>
                            <td>Отличная производительность для динамического контента</td>
                        </tr>
                        <tr>
                            <td>Поддержка операционной системы</td>
                            <td>Поддерживает все ОС - как Unix, так и Windows, однако производительность в Windows сравнительно менее стабильна.</td>
                            <td>Поддерживает все ОС - Unix, как и Windows</td>
                        </tr>
                        <tr>
                            <td>Безопасность</td>
                            <td>Это безопасный веб-сервер. Понимание и настройка функций безопасности важны</td>
                            <td>Это безопасный веб-сервер. Понимание и настройка функций безопасности важны</td>
                        </tr>
                        <tr>
                            <td>Гибкость</td>
                            <td>Nginx версии 1.11.5 и Nginx Plus Release R11 представили совместимость для динамических модулей</td>
                            <td>Можно настроить, добавив модули. Apache имел динамическую загрузку модулей дольше всего.</td>
                        </tr>
                        <tr>
                            <td>Поддержка и документация</td>
                            <td>Несмотря на слабое начало поддержки и документации для Nginx, он быстро рос, поэтому теперь у него есть отличная поддержка ресурсов и доступная документация.</td>
                            <td>Отличная поддержка и документация доступны, как это было на рынке в течение очень долгого времени.</td>
                        </tr>
                    </table>
                </p>
                <p>
                    Как видно, Apache и Nginx являются мощными, гибкими и способными. Последние версии 
                    обоих серверов являются конкурентоспособными во всех областях. Решение о том, какой сервер лучше для вас,
                    во многом зависит от оценки ваших конкретных требований и выбора наилучшего варианта.
                </p>
                <p>
                    Распространенной схемой использования является размещение Nginx перед Apache в качестве реверс-прокси. 
                    В такой конфигурации Nginx называют фронтендом, а Apache — бэкендом. При таком подходе Nginx будет обслуживать все входящие запросы клиентов и мы получим выигрыш 
                    из-за его возможности обрабатывать множество конкурентных запросов.
                </p>
            </div>
        </div>
        <div class="page">6</div>
        <hr>
        <h1 id="php">Взаимодействие с PHP и MySQL</h1>
        <div>
            <div>
                <p>
                    В предыдущих главах я подробно описал как можно установить nginx на желаемую вами операционную систему.
                    Также описал файл конфигурации сервера и предоставил пример конкретной конфигурации под php сервер. В данной главе я хотел бы уделить 
                    внимание php и mysql, так как они потребуются в большинстве случаев для работы на данном сервере.
                    Дальнейшие инструкции будут рассмотрены для операционном системы Windows. 
                </p>
            </div>
            <h2 id="installPHP">Установка PHP</h2>
            <div>
                <p>
                    Скачиваем с официального сайта php.net<a href="#2">[2]</a> (ZIP-архив Non Thread Safe x64), замечаем номер в "VC(число)" - понадобится на следующем шаге. Прописываем каталог в PATH.
                </p>
                <p>
                    Открываем командную строку, запускаем 
                    <code>> php -v</code> 
                    Должно выскочить окно с надписью "The program can't start because VCRUNTIME140.dll". Если запуск прошел без ошибок, пропускаем следующий пункт.
                </p>
                <p>
                    Ищем на странице загрузки из п.1 в левой колонке ссылку на VC нужного номера. Скачиваем x64.exe, устанавливаем. После этого возвращаемся на предыдущий пункт. 
                    На этот раз команда должна показать версию php.
                </p>
            </div>
            <h2 id="nginxAndPHP">Налаживание взаимодействия nginx и PHP</h2>
            <div>
                <p>
                    В раздел <b>server</b> конфигурации добавляем такие строки: <br>
                    <code>
                        location ~\.php$ { <br>
                            fastcgi_pass 127.0.0.1:9123; <br>
                            fastcgi_param  SCRIPT_FILENAME  $document_root$fastcgi_script_name; <br>
                            include        fastcgi_params; <br>
                        }
                    </code>
                    (9123 - номер порта, можно выбрать какой-нибудь другой)<br>
                    Из консоли даем команду:<br>
                    <code>> nginx -s reload</code>
                </p>
                <p>
                    В консоли переходим в каталог, куда распакован PHP. Даем команду:<br>
                    <code>> php-cgi.exe -b 127.0.0.1:9123</code><br>
                    Закрывать окно консоли нельзя, иначе интерпретатор PHP перестанет работать.
                    Можно прописать путь к каталогу PHP в системной переменной PATH и запускать 
                    его без указания полного пути.
                </p>
                <p>
                    Создаем файл D:\sites\mysite\test.php со следующим содержимым:<br>
                    <code>?php echo "This is PHP script on mysite";</code><br>
                    Открываем <b>http://mysite/test.php</b> - текст должен отображаться.<br>
                </p>
            </div>
            <h2 id="insallMySQL">Установка MySQL</h2>
            <div>
                <p>
                    Чтобы перейти к установке MySQL 8, сначала необходимо скачать дистрибутив этой программы. 
                    Скачать MySQL 8 в редакции Community можно, как было уже отмечено, абсолютно свободно с официального сайта, вот ссылка на страницу загрузки<a href="#3">[3]</a>.
                    Ндо скачать полный установщик – дистрибутив программы MySQL, который включает все необходимые компоненты.
                </p>
                <p>
                    Далее запускаем скаченный файл, в итоге запустится программа установки MySQL. Сначала выбираем тип установки. Нам предлагают несколько вариантов:
                    <ol>
                        <li><b>Developer</b> – это вариант по умолчанию, он предполагает установку всего того, что требуется разработчику, это и MySQL Server, и MySQL Workbench и другие инструменты для работы с MySQL;</li>
                        <li><b>Server Only</b> – этот вариант предполагает установку только сервера MySQL;</li>
                        <li><b>Client Only</b> – этот вариант предполагает установку только клиентской части для работы с MySQL Server, т.е. серверная часть устанавливаться не будет;</li>
                        <li><b>Full</b> – установка всех включённых в дистрибутив компонентов;</li>
                        <li><b>Custom</b> – выборочная установка, в данном случае Вы можете установить только то, что нужно Вам</li>
                    </ol>
                    Вариант по умолчанию, т.е. <b>Developer</b>, подойдет для большинства случаев, особенно если Вы устанавливаете MySQL на домашнем компьютере для каких-то своих целей
                </p>
                <p>
                    Затем программа установки проверит систему на наличие компонентов, которые требуются для работы некоторых расширений MySQL. 
                    В моем случае программа установки выдала два предупреждения для расширений MySQL For Excel и MySQL For Visual Studio. Если Вы планируете пользоваться 
                    этими компонентами, то Вам нужно устранить эти замечания. Для этого в свою очередь Вам необходимо установить эти компоненты (т.е. выделить их и нажать 
                    «Execute», некоторые могут установиться и автоматически). Посмотреть можно в приложении №4
                </p>
                <div class="page">7</div>
                <hr>
                <p>
                    Дальше переходим к настройке самого сервера. Сначала нам обязательно необходимо настроить MySQL Server.
                    Первым делом настраиваем параметр «High Availability» (Высокая доступность), который отвечает за то, как будет установлен MySQL сервер. В нашем случае, 
                    как и в большинстве других, требуется стандартный «Standalone MySQL Server» (Автономный сервер) – это классический вариант установки MySQL Server.
                    Далее настраиваем тип сервера и сеть. В нашем случае можно оставить все по умолчанию:<br>
                    <ol>
                        <li>Тип – Development Computer;</li>
                        <li>Протокол – TCP/IP;</li>
                        <li>Порт – 3306;</li>
                        <li>Галочку «Open Windows Firewall ports for network access» необходимо поставить.</li>
                    </ol>
                    Наглядно можно посмотреть в приложении №
                </p>
                <p>
                    После этого нам нужно придумать пароль для пользователя root (это главный администратор MySQL).
                    Кроме этого, мы можем добавить дополнительных пользователей, чтобы это сделать, необходимо нажать на кнопку «Add User».
                    И ввести необходимые данные:<br>
                    <ol>
                        <li>User Name – вводим имя пользователя;</li>
                        <li>Host – оставляем «All Hosts»;</li>
                        <li>Role – выбираем роль пользователя;</li>
                        <li>Password и Confirm Password – придумываем и вводим пароль, который будет у этого пользователя.</li>
                    </ol>
                    Окно ввода информации представлено в приложении №5, приложении №6.
                </p>
                <p>
                    Следующий этап - это настроить службу MySQL, которая будет работать в Windows. Можем задать <br>
                    <ol>
                        <li>Windows Service Name – Имя службы</li>
                        <li>«Start the MySQL Server at System Startup» – если эта галочка стоит, то служба MySQL будет запускаться вместе с запуском Windows;</li>
                        <li>Run Windows Service – от имени какой учетной записи будет работать служба MySQL в Windows. Standard System Account – это системная учетная запись.</li>
                    </ol>
                    Можно все оставить по умолчанию, я так и поступаю. Все параметры MySQL Server настроены, однако нам еще нужно их применить и сохранить. Для этого на следующем окне 
                    нажимаем «Execute». Это продемонстрировано в приложении №7, приложении №8.
                </p>
            </div>
            <h2 id="phpAndMysql">PHP и MySQL</h2>
            <div>
                <p>
                    Чтобы установить связь между PHP и MySQL, не требуется никаких специальных действий, 
                    кроме собственно создания соединения (разумеется, должен быть включен соответствующий 
                    модуль, например, mysqli).
                </p>
                <p>
                    Проверить соединение можно так:<br>
                    <code>
                        echo "Connecting to MySQL server... "; <br>
                        // $host = 'localhost'; // если соединяемся через named pipe (аналог Unix-сокета), <br>
                        $host = ".";            // то в качестве хоста указываем "." <br>
                        $user = "someone"; <br>
                        $password = "a password";
                        $mysqli = new mysqli($host, $user, $password); <br>
                        
                        if ($mysqli->connect_error) <br>
                            echo $mysqli->connect_error; <br>
                        else
                            echo "Connected successfully!"; <br>
                    </code>
                </p>
            </div>
        </div>
        <h1 id="conclusion">Заключение</h1>
        <div>
            <p>
                В заключении хотелось бы сказать, что я дал поверхностное представление об самом веб-сервере Nginx и его возможной установки, конфигурации для нужд пользователя на операционной системе Linux и Windows. Также были приведено
                сравнение с таким популярным веб-сервером как Apache, где каждый критерий оценивание сервера расмматривался отдельно и в конце была подведена итоговая таблица с кратким сравнением
                характеристик каждого. В последней главе было описано как можно взаимодействовать с MySQL и PHP используя установленный ранее нами Nginx. 
            </p>
            <p>
                Про Nginx в целом можно сказать, что под этими простыми описаниями скрывается более чем десятилетний опыт разработки и оптимизации, 
                который позволяет NGINX демонстрировать выдающуюся производительность на широком спектре оборудования и реальных задачах, оставаясь 
                надежным и безопасным, как того требуют современные веб-приложения.
            </p>
        </div>
        <div class="page">8</div>
        <hr>
        <h1 id="literature">Список использованной литературы</h1>
        <div>
            <ol>
                <li id="1"><a href="https://nginx.org/ru/download.html">nginx.org/download</a></li>
                <li id="2"><a href="https://windows.php.net/download">windows.php.net</a></li>
                <li id="3"><a href="https://dev.mysql.com/downloads/installerƒ">dev.mysql.com/downloads/installer</a></li>
                <li><a href="https://nginx.org/ru/">nginx.org</a></li>
                <li><a href="https://ru.wikipedia.org/wiki/Nginx">wikipedia.org</a></li>
                <li><a href="https://losst.pro/ustanovka-nginx-ubuntu-16-04">losst.pro</a></li>
                <li><a href="https://gist.github.com/1234ru/7d54192e375d8e703d14c063e56e614f">github.com</a></li>
                <li><a href="https://nginx.org/ru/docs/windows.html">nginx.org/Windows</a></li>
                <li><a href="https://wiki.merionet.ru/servernye-resheniya/34/apache-vs-nginx-sravnenie-i-preimushhestva/">merionet.ru</a></li>
                <li><a href="https://habr.com/ru/post/267721/">habr.com</a></li>
                <li><a href="https://code.tutsplus.com/ru/tutorials/apache-vs-nginx-pros-cons-for-wordpress--cms-28540">code.tutsplus.com</a></li>
                <li><a href="https://antiskleroz.pp.ua/it/server-setup-nginx-mysql-php">antiskleroz.pp</a></li>
                <li><a href="https://dev.mysql.com/doc/refman/8.0/en/windows-installation.html">dev.mysql.com</a></li>
            </ol>
        </div>
        <div class="page">9</div>
        <hr>
        <h1 id="applications">Приложения</h1>
        <div>
            <h2>Приложение №1</h2>
            <img src="materials/nginxConf.png" alt="nginx.conf" width="600px">
            <div class="caption"> </div>
            <h2>Приложение №2</h2>
            <img src="materials/example nginx conf.png" alt="nginx.conf" width="600px">
            <div class="caption"> </div>
            <h2>Приложение №3</h2>
            <img src="materials/architecture.png" alt="architecture nginx" width="600px">
            <div class="caption"> </div>
            <h2>Приложение №4</h2>
            <img src="materials/MySQL1.jpg" alt="architecture nginx" width="600px">
            <div class="caption"> </div>
            <h2>Приложение №5</h2>
            <img src="materials/MySQL2.jpg" alt="architecture nginx" width="600px">
            <div class="caption"> </div>
            <h2>Приложение №6</h2>
            <img src="materials/MySQL3.jpg" alt="architecture nginx" width="600px">
            <div class="caption"> </div>
            <h2>Приложение №7</h2>
            <img src="materials/MySQL4.jpg" alt="architecture nginx" width="600px">
            <div class="caption"> </div>
            <h2>Приложение №8</h2>
            <img src="materials/MySQL5.jpg" alt="architecture nginx" width="600px">
            <div class="caption"> </div>
            <h2>Приложение №9</h2>
            <img src="materials/MySQL6.jpg" alt="architecture nginx" width="600px">
            <div class="caption"> </div>
            <h2>Приложение №10</h2>
            <img src="materials/MySQL7.jpg" alt="architecture nginx" width="600px">
            <div class="caption"> </div>
            <h2>Приложение №11</h2>
            <img src="materials/MySQL8.jpg" alt="architecture nginx" width="600px">
            <div class="caption"> </div>
        </div>
    </body>
</html>